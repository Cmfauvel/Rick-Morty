{"version":3,"sources":["scriptP2.js"],"names":["menuBtn","document","querySelector","firstBar","secondBar","thirdBar","navMobile","addEventListener","classList","contains","remove","add","cardPerso","urls","index","length","url","Promise","all","map","fetch","then","resp","r","json","data","tabSpecies","getElementsByClassName","i","imgHomePersoMob","imgHomePersoDes","style","display","tabData","results","concat","innerHTML","perso","species","createCard","getCharacterDetails","listUriCharacter","episode","getCharacterEpisodes","allCards","querySelectorAll","card","btnsPerso","cpt","console","log","btn","event","cibleClick","target","parentNode","nextElementSibling","currentElement","catch","error","character","id","image","name","status","type","gender","origin","location","listUriEpisode","reponse","uri","response","ep","ulEp","getElementById"],"mappings":"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","file":"scriptP2.c1fb8bec.js","sourceRoot":"..","sourcesContent":["let menuBtn = document.querySelector(\"#menu-mobile\");\r\nlet firstBar = document.querySelector(\"#menu-mobile span:first-child\");\r\nlet secondBar = document.querySelector(\"#menu-mobile span:nth-child(2)\");\r\nlet thirdBar = document.querySelector(\"#menu-mobile span:last-child\");\r\nlet navMobile = document.querySelector(\".nav__mobile\");\r\n\r\nmenuBtn.addEventListener(\"click\", () => {\r\n    if (firstBar.classList.contains(\"transition\")) {\r\n        firstBar.classList.remove(\"transition\");\r\n        secondBar.classList.remove(\"transition2\");\r\n        thirdBar.classList.remove(\"transition3\");\r\n        navMobile.classList.remove(\"appear\");\r\n    } else {\r\n        firstBar.classList.add(\"transition\");\r\n        secondBar.classList.add(\"transition2\");\r\n        thirdBar.classList.add(\"transition3\");\r\n        navMobile.classList.add(\"appear\");\r\n    }\r\n})\r\n\r\n\r\nconst cardPerso = document.querySelector(\".perso__cards\");\r\n// const containerNames = document.querySelector(\".perso__names\");\r\n// const epPerso = document.querySelector(\".perso__ep\")\r\n\r\nlet urls = [\"https://rickandmortyapi.com/api/character\", \"https://rickandmortyapi.com/api/character/?page=2\", \"https://rickandmortyapi.com/api/character/?page=3\"];\r\nfor (let index = 0; index < urls.length; index++) {\r\n    const url = urls[index];\r\n}\r\nPromise.all(urls.map(url => fetch(url)))\r\n    .then(resp => Promise.all(resp.map(r => r.json())))\r\n\r\n    .then(function (data) {\r\n        let tabSpecies = document.getElementsByClassName('species');\r\n        for (let i = 0; i < tabSpecies.length; i++) {\r\n            // console.log(tabSpecies);\r\n            tabSpecies[i].addEventListener('click', () => {\r\n                let imgHomePersoMob = document.querySelector('.imgMob')\r\n                let imgHomePersoDes = document.querySelector('.imgDes')\r\n                imgHomePersoMob.classList.add('hide');\r\n                imgHomePersoDes.style.display = 'none';\r\n\r\n                let tabData = data[0].results.concat(data[1].results, data[2].results);\r\n                cardPerso.innerHTML = \"\";\r\n                for (let perso of tabData) {\r\n\r\n                    if (perso.species == \"Human\" && i == 0) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n\r\n\r\n                    } else if (perso.species === \"Alien\" && i == 1) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n\r\n\r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n                    } else if (perso.species != \"Human\" && perso.species != \"Alien\" && i == 2) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n                    }\r\n                }\r\n\r\n                let allCards = document.querySelectorAll(\".perso__cards\");\r\n\r\n                for (let card = 0; card < allCards.length; card++) {\r\n                    \r\n                    let btnsPerso = document.querySelectorAll('.button__perso');\r\n                    let cpt = 0;\r\n\r\n                    console.log(btnsPerso)\r\n                    for (let btn = 0; btn < btnsPerso.length; btn++) {\r\n                        btnsPerso[btn].addEventListener('click', event => {\r\n                            //console.log(event.target.parentNode.parentNode.nextElementSibling)\r\n                            let cibleClick = event.target.parentNode.parentNode.nextElementSibling;\r\n                            let currentElement = document.querySelector('.show');\r\n                            cpt++;\r\n                            console.log(cpt, currentElement)\r\n                            if (cpt > 1) {\r\n                                cibleClick.classList.remove('hide');\r\n                                cibleClick.classList.add('show');\r\n                                currentElement.classList.remove('show');\r\n                                currentElement.classList.add('hide');\r\n                            } else if (cpt = 1) {\r\n                                cibleClick.classList.remove('hide');\r\n                                cibleClick.classList.add('show');\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    })\r\n    .catch((error) => {\r\n        console.error(error);\r\n    })\r\n\r\n\r\nfunction createCard(character) {\r\n    cardPerso.innerHTML += `<div class=\"perso__card id=\"perso-${character.id}\">\r\n                                <div class=\"container__img--perso\">\r\n                                        <img class=\"avatar\" src=\"${character.image}\">\r\n                                </div>\r\n                                <div class=\"container__button\">\r\n                                    <button class=\"button__perso\" id=\"btnPerso-${character.id}\">${character.name}</button>\r\n                                </div>\r\n                            </div>`\r\n}\r\n\r\nfunction getCharacterDetails(results) {\r\n\r\n    cardPerso.innerHTML += `<div class=\"perso__details hide\" id=\"details-char-${results.id}\"><div>Status : ${results.status}</div>\r\n    <div>Espèce : ${results.species}</div>\r\n    <div>Type : ${results.type}</div>\r\n    <div>Genre : ${results.gender}</div>\r\n    <div>Origine : ${results.origin.name}</div>\r\n    <div>Dernier lieu : ${results.location.name}</div>\r\n    <div id=\"ep-char-${results.id}\" class=\"ep__number\">Présent dans ${results.episode.length} épisode(s).</div><ul id=\"list-ep-${results.id}\" class=\"listEp\"></ul></div>`\r\n}\r\n\r\nfunction getCharacterEpisodes(listUriEpisode, results) {\r\n    let reponse = [];\r\n\r\n    for (const uri of listUriEpisode) {\r\n        fetch(uri)\r\n            .then((response) => {\r\n                // console.log(response.json())           \r\n                return response.json()\r\n            }).then((ep) => {\r\n                // console.log(ep)\r\n                // reponse.push(ep);\r\n                let ulEp = document.getElementById(`list-ep-${results.id}`)\r\n                ulEp.innerHTML += `<li class=\"elemList__ep\">${ep.name}</li>`\r\n            })\r\n    }\r\n}\r\n\r\n\r\n"]}